function compareSpikes(theta,spikes,temp)

    binSize = 0.25;
    dt = 5*10^-5;
    [p,dp,~] = getPoly(temp,5);
    [rate,tvec] = getRate(spikes,binSize);
    rate_norm = (rate-max(rate))/(max(rate));
    
    temp_vals = polyval(p,tvec);
    dtemp_vals = polyval(dp,tvec);
    
    linear = theta(1)*temp_vals + theta(2)*dtemp_vals;
    predict_norm = sigmoid(linear,theta(3),theta(4),theta(5));
    predict_abs = predict_norm*max(rate) + max(rate);
    
    p = polyfit(tvec,predict_abs,7);
    S = generateSpikes(p,max(predict_abs),max(tvec));
    tvec = [0:length(spikes)]'*dt;
    
    
    figure()
    subplot(2,1,1)
    plot(tvec,spikes);
    subplot(2,1,2)
    plot(tvec,train)
    
end