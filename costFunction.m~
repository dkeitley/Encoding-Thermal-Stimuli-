function J = costFunction(theta,X,y)

    m = length(y);
    J = 0;
    cost = 0;
    L = theta(4);
    a = theta(1);
    b = theta(2);
    x0 = theta(3);
    k = theta(5);
    r0 = X(:,1);
    
    c = theta(3);
    d = theta(4);
    e = theta(5);
    x0 = theta(6);
    L = theta(7);
    k = theta(8);
    
    %linear = X(:,2:3)*theta(1:2);
    %r = sigmoid(linear,x0,L,k);
    
    
    r = sigmoid(X(:,2),x0,L,k);
    r = r*(a*exp(-b*X(:,2))*sin(c*X(:,2)-d) + e)
    cost =(r-y);
    cost2 = cost.^(2);
    J = sum(cost2,1);
    J = J/(2*m);
    
end